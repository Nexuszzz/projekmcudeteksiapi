# ðŸ”§ Environment Configuration for Production (EC2)

# =============================================================================
# GOOGLE GEMINI API
# =============================================================================
GOOGLE_API_KEY=AIzaSyAGX6tPV18q3xaVMsu2wSeJ6_8TcJapFm0

# =============================================================================
# EC2 SERVER URLS
# =============================================================================
# Ganti YOUR_EC2_PUBLIC_IP dengan IP EC2 Anda
UPLOAD_API=http://YOUR_EC2_PUBLIC_IP:8080/api/video/upload
WEB_LOG_WS_URL=ws://YOUR_EC2_PUBLIC_IP:8080/ws
PROXY_SERVER_URL=http://YOUR_EC2_PUBLIC_IP:8080
WEB_API_URL=http://YOUR_EC2_PUBLIC_IP:8080/api/fire-detection

# =============================================================================
# ESP32-CAM CONFIGURATION
# =============================================================================
# Option 1: Via Port Forwarding
# Format: http://YOUR_HOME_PUBLIC_IP:PORT/stream
ESP32_CAM_STREAM=http://YOUR_HOME_PUBLIC_IP:8080/stream

# Option 2: Via Ngrok (untuk testing)
# ESP32_CAM_STREAM=https://abcd1234.ngrok.io/stream

# Option 3: Local IP (jika ESP32 dalam satu network dengan EC2)
# ESP32_CAM_STREAM=http://192.168.1.100:80/stream

# ESP32-CAM IP (untuk MQTT alerts)
ESP32_CAM_IP=192.168.1.100

# =============================================================================
# MQTT CONFIGURATION
# =============================================================================
MQTT_BROKER=13.213.57.228
MQTT_PORT=1883
MQTT_USER=zaks
MQTT_PASSWORD=engganngodinginginmcu
MQTT_TOPIC_ALERT=lab/zaks/alert
MQTT_TOPIC_LOG=lab/zaks/log
MQTT_TOPIC_EVENT=lab/zaks/event

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================
# Path di EC2 (akan dibuat saat deployment)
MODEL_PATH=/home/ubuntu/sudahtapibelum/python_scripts/fire_yolov8s_ultra_best.pt

# Fallback model
MODEL_PATH_FALLBACK=/home/ubuntu/sudahtapibelum/python_scripts/fire_yolov8n_best.pt

# =============================================================================
# DETECTION PARAMETERS
# =============================================================================
CONF_THRESHOLD=0.35
MIN_AREA=200
GEMINI_SCORE_THRESHOLD=0.50
GEMINI_COOLDOWN=0.8
FALLBACK_CONF_THRESHOLD=0.80

# Color validation
ENABLE_COLOR_VALIDATION=true
MIN_ORANGE_RED_RATIO=0.15
MAX_WHITE_RATIO=0.60

# =============================================================================
# RECORDING CONFIGURATION
# =============================================================================
ENABLE_AUTO_RECORD=true
RECORD_SAVE_DIR=/home/ubuntu/sudahtapibelum/fire_recordings
RECORD_DURATION=30
RECORD_FPS=20
RECORD_COOLDOWN=60
AUTO_UPLOAD_AFTER_RECORD=true

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
PROCESS_EVERY_N_FRAMES=1
DISPLAY_SCALE=1.0

# =============================================================================
# ALERT CONFIGURATION
# =============================================================================
ALERT_COOLDOWN=5.0
WHATSAPP_COOLDOWN=60

# =============================================================================
# FEATURE FLAGS
# =============================================================================
WEB_LOG_ENABLED=true
MQTT_ENABLED=true
SEND_TO_WEB=true
SEND_TO_WHATSAPP=true
FALLBACK_RECORD_ENABLED=true

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=/home/ubuntu/sudahtapibelum/logs/fire_detection.log
